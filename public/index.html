<!DOCTYPE html>
<html ng-app="PostApp">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="css/style.css">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
  </head>
  <body ng-controller="MainController as ctrl">

    <!-- Search Box -->
    <input type="text" placeholder="Search..." ng-model="searchBox">

    <!-- New Post Form -->
    <form ng-submit="ctrl.createPost()">
      <input type="text" ng-model="ctrl.postData.username" placeholder="Username"/>
      <input type="text" ng-model="ctrl.postData.postBody" placeholder="Post"/>
      <input type="submit" value="Submit"/>
    </form>

    <!-- Post Display -->
    <div ng-repeat="post in ctrl.posts | filter: searchBox">
      {{post.username}} <br/>
      {{post.postBody}} <br/>
      <form ng-submit="ctrl.deletePost(post)">
        <input type="submit" value="Delete">
      </form>
      <br/>

      <form ng-submit='ctrl.showEdit( post )'>
        <input type="submit" value="Edit"/>
      </form>

      <form ng-if="ctrl.showForm === post._id" ng-submit="ctrl.editPost( post )" >
        <input type="text" ng-model="ctrl.editData.username" placeholder="Username"/>
        <input type="text" ng-model="ctrl.editData.postBody" placeholder="Post"/>
        <input type="submit" value="Submit">
      </form>
      <br/>
      <br/>
    </div>

    <!-- EDIT -->
    <div>

    </div>

  </body>
</html>
